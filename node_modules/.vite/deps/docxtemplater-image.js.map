{
  "version": 3,
  "sources": ["../../docxtemplater-image/js/templates.js", "../../docxtemplater-image/js/docUtils.js", "../../docxtemplater-image/js/imgManager.js", "../../docxtemplater-image/js/index.js"],
  "sourcesContent": ["\"use strict\";\n\nmodule.exports = {\n  getImageXml: function getImageXml(rId, size) {\n    return \"<w:drawing>\\n\\t\\t<wp:inline distT=\\\"0\\\" distB=\\\"0\\\" distL=\\\"0\\\" distR=\\\"0\\\">\\n\\t\\t\\t<wp:extent cx=\\\"\".concat(size[0], \"\\\" cy=\\\"\").concat(size[1], \"\\\"/>\\n\\t\\t\\t<wp:effectExtent l=\\\"0\\\" t=\\\"0\\\" r=\\\"0\\\" b=\\\"0\\\"/>\\n\\t\\t\\t<wp:docPr id=\\\"2\\\" name=\\\"Image 2\\\" descr=\\\"image\\\"/>\\n\\t\\t\\t<wp:cNvGraphicFramePr>\\n\\t\\t\\t\\t<a:graphicFrameLocks xmlns:a=\\\"http://schemas.openxmlformats.org/drawingml/2006/main\\\" noChangeAspect=\\\"1\\\"/>\\n\\t\\t\\t</wp:cNvGraphicFramePr>\\n\\t\\t\\t<a:graphic xmlns:a=\\\"http://schemas.openxmlformats.org/drawingml/2006/main\\\">\\n\\t\\t\\t\\t<a:graphicData uri=\\\"http://schemas.openxmlformats.org/drawingml/2006/picture\\\">\\n\\t\\t\\t\\t\\t<pic:pic xmlns:pic=\\\"http://schemas.openxmlformats.org/drawingml/2006/picture\\\">\\n\\t\\t\\t\\t\\t\\t<pic:nvPicPr>\\n\\t\\t\\t\\t\\t\\t\\t<pic:cNvPr id=\\\"0\\\" name=\\\"Picture 1\\\" descr=\\\"image\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<pic:cNvPicPr>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:picLocks noChangeAspect=\\\"1\\\" noChangeArrowheads=\\\"1\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</pic:cNvPicPr>\\n\\t\\t\\t\\t\\t\\t</pic:nvPicPr>\\n\\t\\t\\t\\t\\t\\t<pic:blipFill>\\n\\t\\t\\t\\t\\t\\t\\t<a:blip r:embed=\\\"rId\").concat(rId, \"\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:extLst>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a:ext uri=\\\"{28A0092B-C50C-407E-A947-70E740481C1C}\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<a14:useLocalDpi xmlns:a14=\\\"http://schemas.microsoft.com/office/drawing/2010/main\\\" val=\\\"0\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</a:ext>\\n\\t\\t\\t\\t\\t\\t\\t\\t</a:extLst>\\n\\t\\t\\t\\t\\t\\t\\t</a:blip>\\n\\t\\t\\t\\t\\t\\t\\t<a:srcRect/>\\n\\t\\t\\t\\t\\t\\t\\t<a:stretch>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:fillRect/>\\n\\t\\t\\t\\t\\t\\t\\t</a:stretch>\\n\\t\\t\\t\\t\\t\\t</pic:blipFill>\\n\\t\\t\\t\\t\\t\\t<pic:spPr bwMode=\\\"auto\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a:xfrm>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:off x=\\\"0\\\" y=\\\"0\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:ext cx=\\\"\").concat(size[0], \"\\\" cy=\\\"\").concat(size[1], \"\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</a:xfrm>\\n\\t\\t\\t\\t\\t\\t\\t<a:prstGeom prst=\\\"rect\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:avLst/>\\n\\t\\t\\t\\t\\t\\t\\t</a:prstGeom>\\n\\t\\t\\t\\t\\t\\t\\t<a:noFill/>\\n\\t\\t\\t\\t\\t\\t\\t<a:ln>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:noFill/>\\n\\t\\t\\t\\t\\t\\t\\t</a:ln>\\n\\t\\t\\t\\t\\t\\t</pic:spPr>\\n\\t\\t\\t\\t\\t</pic:pic>\\n\\t\\t\\t\\t</a:graphicData>\\n\\t\\t\\t</a:graphic>\\n\\t\\t</wp:inline>\\n\\t</w:drawing>\\n\\t\\t\").replace(/\\t|\\n/g, \"\");\n  },\n  getImageXmlCentered: function getImageXmlCentered(rId, size) {\n    return \"<w:p>\\n\\t\\t\\t<w:pPr>\\n\\t\\t\\t\\t<w:jc w:val=\\\"center\\\"/>\\n\\t\\t\\t</w:pPr>\\n\\t\\t\\t<w:r>\\n\\t\\t\\t\\t<w:rPr/>\\n\\t\\t\\t\\t<w:drawing>\\n\\t\\t\\t\\t\\t<wp:inline distT=\\\"0\\\" distB=\\\"0\\\" distL=\\\"0\\\" distR=\\\"0\\\">\\n\\t\\t\\t\\t\\t<wp:extent cx=\\\"\".concat(size[0], \"\\\" cy=\\\"\").concat(size[1], \"\\\"/>\\n\\t\\t\\t\\t\\t<wp:docPr id=\\\"0\\\" name=\\\"Picture\\\" descr=\\\"\\\"/>\\n\\t\\t\\t\\t\\t<a:graphic xmlns:a=\\\"http://schemas.openxmlformats.org/drawingml/2006/main\\\">\\n\\t\\t\\t\\t\\t\\t<a:graphicData uri=\\\"http://schemas.openxmlformats.org/drawingml/2006/picture\\\">\\n\\t\\t\\t\\t\\t\\t<pic:pic xmlns:pic=\\\"http://schemas.openxmlformats.org/drawingml/2006/picture\\\">\\n\\t\\t\\t\\t\\t\\t\\t<pic:nvPicPr>\\n\\t\\t\\t\\t\\t\\t\\t<pic:cNvPr id=\\\"0\\\" name=\\\"Picture\\\" descr=\\\"\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<pic:cNvPicPr>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:picLocks noChangeAspect=\\\"1\\\" noChangeArrowheads=\\\"1\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</pic:cNvPicPr>\\n\\t\\t\\t\\t\\t\\t\\t</pic:nvPicPr>\\n\\t\\t\\t\\t\\t\\t\\t<pic:blipFill>\\n\\t\\t\\t\\t\\t\\t\\t<a:blip r:embed=\\\"rId\").concat(rId, \"\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<a:stretch>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:fillRect/>\\n\\t\\t\\t\\t\\t\\t\\t</a:stretch>\\n\\t\\t\\t\\t\\t\\t\\t</pic:blipFill>\\n\\t\\t\\t\\t\\t\\t\\t<pic:spPr bwMode=\\\"auto\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a:xfrm>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:off x=\\\"0\\\" y=\\\"0\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:ext cx=\\\"\").concat(size[0], \"\\\" cy=\\\"\").concat(size[1], \"\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</a:xfrm>\\n\\t\\t\\t\\t\\t\\t\\t<a:prstGeom prst=\\\"rect\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:avLst/>\\n\\t\\t\\t\\t\\t\\t\\t</a:prstGeom>\\n\\t\\t\\t\\t\\t\\t\\t<a:noFill/>\\n\\t\\t\\t\\t\\t\\t\\t<a:ln w=\\\"9525\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:noFill/>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:miter lim=\\\"800000\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:headEnd/>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:tailEnd/>\\n\\t\\t\\t\\t\\t\\t\\t</a:ln>\\n\\t\\t\\t\\t\\t\\t\\t</pic:spPr>\\n\\t\\t\\t\\t\\t\\t</pic:pic>\\n\\t\\t\\t\\t\\t\\t</a:graphicData>\\n\\t\\t\\t\\t\\t</a:graphic>\\n\\t\\t\\t\\t\\t</wp:inline>\\n\\t\\t\\t\\t</w:drawing>\\n\\t\\t\\t</w:r>\\n\\t\\t</w:p>\\n\\t\\t\").replace(/\\t|\\n/g, \"\");\n  },\n  getPptxImageXml: function getPptxImageXml(rId, size, offset) {\n    return \"<p:pic>\\n\\t\\t\\t<p:nvPicPr>\\n\\t\\t\\t\\t<p:cNvPr id=\\\"6\\\" name=\\\"Picture 2\\\"/>\\n\\t\\t\\t\\t<p:cNvPicPr>\\n\\t\\t\\t\\t\\t<a:picLocks noChangeAspect=\\\"1\\\" noChangeArrowheads=\\\"1\\\"/>\\n\\t\\t\\t\\t</p:cNvPicPr>\\n\\t\\t\\t\\t<p:nvPr/>\\n\\t\\t\\t</p:nvPicPr>\\n\\t\\t\\t<p:blipFill>\\n\\t\\t\\t\\t<a:blip r:embed=\\\"rId\".concat(rId, \"\\\" cstate=\\\"print\\\">\\n\\t\\t\\t\\t\\t<a:extLst>\\n\\t\\t\\t\\t\\t\\t<a:ext uri=\\\"{28A0092B-C50C-407E-A947-70E740481C1C}\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a14:useLocalDpi xmlns:a14=\\\"http://schemas.microsoft.com/office/drawing/2010/main\\\" val=\\\"0\\\"/>\\n\\t\\t\\t\\t\\t\\t</a:ext>\\n\\t\\t\\t\\t\\t</a:extLst>\\n\\t\\t\\t\\t</a:blip>\\n\\t\\t\\t\\t<a:srcRect/>\\n\\t\\t\\t\\t<a:stretch>\\n\\t\\t\\t\\t\\t<a:fillRect/>\\n\\t\\t\\t\\t</a:stretch>\\n\\t\\t\\t</p:blipFill>\\n\\t\\t\\t<p:spPr bwMode=\\\"auto\\\">\\n\\t\\t\\t\\t<a:xfrm>\\n\\t\\t\\t\\t\\t<a:off x=\\\"\").concat(offset.x, \"\\\" y=\\\"\").concat(offset.y, \"\\\"/>\\n\\t\\t\\t\\t\\t<a:ext cx=\\\"\").concat(size[0], \"\\\" cy=\\\"\").concat(size[1], \"\\\"/>\\n\\t\\t\\t\\t</a:xfrm>\\n\\t\\t\\t\\t<a:prstGeom prst=\\\"rect\\\">\\n\\t\\t\\t\\t\\t<a:avLst/>\\n\\t\\t\\t\\t</a:prstGeom>\\n\\t\\t\\t\\t<a:noFill/>\\n\\t\\t\\t\\t<a:ln>\\n\\t\\t\\t\\t\\t<a:noFill/>\\n\\t\\t\\t\\t</a:ln>\\n\\t\\t\\t\\t<a:effectLst/>\\n\\t\\t\\t\\t<a:extLst>\\n\\t\\t\\t\\t\\t<a:ext uri=\\\"{909E8E84-426E-40DD-AFC4-6F175D3DCCD1}\\\">\\n\\t\\t\\t\\t\\t\\t<a14:hiddenFill xmlns:a14=\\\"http://schemas.microsoft.com/office/drawing/2010/main\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a:solidFill>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:schemeClr val=\\\"accent1\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</a:solidFill>\\n\\t\\t\\t\\t\\t\\t</a14:hiddenFill>\\n\\t\\t\\t\\t\\t</a:ext>\\n\\t\\t\\t\\t\\t<a:ext uri=\\\"{91240B29-F687-4F45-9708-019B960494DF}\\\">\\n\\t\\t\\t\\t\\t\\t<a14:hiddenLine xmlns:a14=\\\"http://schemas.microsoft.com/office/drawing/2010/main\\\" w=\\\"9525\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a:solidFill>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:schemeClr val=\\\"tx1\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t</a:solidFill>\\n\\t\\t\\t\\t\\t\\t\\t<a:miter lim=\\\"800000\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t<a:headEnd/>\\n\\t\\t\\t\\t\\t\\t\\t<a:tailEnd/>\\n\\t\\t\\t\\t\\t\\t</a14:hiddenLine>\\n\\t\\t\\t\\t\\t</a:ext>\\n\\t\\t\\t\\t\\t<a:ext uri=\\\"{AF507438-7753-43E0-B8FC-AC1667EBCBE1}\\\">\\n\\t\\t\\t\\t\\t\\t<a14:hiddenEffects xmlns:a14=\\\"http://schemas.microsoft.com/office/drawing/2010/main\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a:effectLst>\\n\\t\\t\\t\\t\\t\\t\\t\\t<a:outerShdw dist=\\\"35921\\\" dir=\\\"2700000\\\" algn=\\\"ctr\\\" rotWithShape=\\\"0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<a:schemeClr val=\\\"bg2\\\"/>\\n\\t\\t\\t\\t\\t\\t\\t\\t</a:outerShdw>\\n\\t\\t\\t\\t\\t\\t\\t</a:effectLst>\\n\\t\\t\\t\\t\\t\\t</a14:hiddenEffects>\\n\\t\\t\\t\\t\\t</a:ext>\\n\\t\\t\\t\\t</a:extLst>\\n\\t\\t\\t</p:spPr>\\n\\t\\t</p:pic>\\n\\t\\t\").replace(/\\t|\\n/g, \"\");\n  }\n};", "\"use strict\";\n\nvar DocUtils = require(\"docxtemplater\").DocUtils;\nDocUtils.convertPixelsToEmus = function (pixel) {\n  return Math.round(pixel * 9525);\n};\nmodule.exports = DocUtils;", "\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar DocUtils = require(\"./docUtils\");\nvar extensionRegex = /[^.]+\\.([^.]+)/;\nvar rels = {\n  getPrefix: function getPrefix(fileType) {\n    return fileType === \"docx\" ? \"word\" : \"ppt\";\n  },\n  getFileTypeName: function getFileTypeName(fileType) {\n    return fileType === \"docx\" ? \"document\" : \"presentation\";\n  },\n  getRelsFileName: function getRelsFileName(fileName) {\n    return fileName.replace(/^.*?([a-zA-Z0-9]+)\\.xml$/, \"$1\") + \".xml.rels\";\n  },\n  getRelsFilePath: function getRelsFilePath(fileName, fileType) {\n    var relsFileName = rels.getRelsFileName(fileName);\n    var prefix = fileType === \"pptx\" ? \"ppt/slides\" : \"word\";\n    return \"\".concat(prefix, \"/_rels/\").concat(relsFileName);\n  }\n};\nmodule.exports = /*#__PURE__*/function () {\n  function ImgManager(zip, fileName, xmlDocuments, fileType) {\n    _classCallCheck(this, ImgManager);\n    this.fileName = fileName;\n    this.prefix = rels.getPrefix(fileType);\n    this.zip = zip;\n    this.xmlDocuments = xmlDocuments;\n    this.fileTypeName = rels.getFileTypeName(fileType);\n    this.mediaPrefix = fileType === \"pptx\" ? \"../media\" : \"media\";\n    var relsFilePath = rels.getRelsFilePath(fileName, fileType);\n    this.relsDoc = xmlDocuments[relsFilePath] || this.createEmptyRelsDoc(xmlDocuments, relsFilePath);\n  }\n  return _createClass(ImgManager, [{\n    key: \"createEmptyRelsDoc\",\n    value: function createEmptyRelsDoc(xmlDocuments, relsFileName) {\n      var mainRels = this.prefix + \"/_rels/\" + this.fileTypeName + \".xml.rels\";\n      var doc = xmlDocuments[mainRels];\n      if (!doc) {\n        var err = new Error(\"Could not copy from empty relsdoc\");\n        err.properties = {\n          mainRels: mainRels,\n          relsFileName: relsFileName,\n          files: Object.keys(this.zip.files)\n        };\n        throw err;\n      }\n      var relsDoc = DocUtils.str2xml(DocUtils.xml2str(doc));\n      var relationships = relsDoc.getElementsByTagName(\"Relationships\")[0];\n      var relationshipChilds = relationships.getElementsByTagName(\"Relationship\");\n      for (var i = 0, l = relationshipChilds.length; i < l; i++) {\n        relationships.removeChild(relationshipChilds[i]);\n      }\n      xmlDocuments[relsFileName] = relsDoc;\n      return relsDoc;\n    }\n  }, {\n    key: \"loadImageRels\",\n    value: function loadImageRels() {\n      var iterable = this.relsDoc.getElementsByTagName(\"Relationship\");\n      return Array.prototype.reduce.call(iterable, function (max, relationship) {\n        var id = relationship.getAttribute(\"Id\");\n        if (/^rId[0-9]+$/.test(id)) {\n          return Math.max(max, parseInt(id.substr(3), 10));\n        }\n        return max;\n      }, 0);\n    }\n    // Add an extension type in the [Content_Types.xml], is used if for example you want word to be able to read png files (for every extension you add you need a contentType)\n  }, {\n    key: \"addExtensionRels\",\n    value: function addExtensionRels(contentType, extension) {\n      var contentTypeDoc = this.xmlDocuments[\"[Content_Types].xml\"];\n      var defaultTags = contentTypeDoc.getElementsByTagName(\"Default\");\n      var extensionRegistered = Array.prototype.some.call(defaultTags, function (tag) {\n        return tag.getAttribute(\"Extension\") === extension;\n      });\n      if (extensionRegistered) {\n        return;\n      }\n      var types = contentTypeDoc.getElementsByTagName(\"Types\")[0];\n      var newTag = contentTypeDoc.createElement(\"Default\");\n      newTag.namespaceURI = null;\n      newTag.setAttribute(\"ContentType\", contentType);\n      newTag.setAttribute(\"Extension\", extension);\n      types.appendChild(newTag);\n    }\n    // Add an image and returns it's Rid\n  }, {\n    key: \"addImageRels\",\n    value: function addImageRels(imageName, imageData, i) {\n      if (i == null) {\n        i = 0;\n      }\n      var realImageName = i === 0 ? imageName : imageName + \"(\".concat(i, \")\");\n      var imagePath = \"\".concat(this.prefix, \"/media/\").concat(realImageName);\n      if (this.zip.files[imagePath] != null) {\n        return this.addImageRels(imageName, imageData, i + 1);\n      }\n      var image = {\n        name: imagePath,\n        data: imageData,\n        options: {\n          binary: true\n        }\n      };\n      this.zip.file(image.name, image.data, image.options);\n      var extension = realImageName.replace(extensionRegex, \"$1\");\n      this.addExtensionRels(\"image/\".concat(extension), extension);\n      var relationships = this.relsDoc.getElementsByTagName(\"Relationships\")[0];\n      var newTag = this.relsDoc.createElement(\"Relationship\");\n      newTag.namespaceURI = null;\n      var maxRid = this.loadImageRels() + 1;\n      newTag.setAttribute(\"Id\", \"rId\".concat(maxRid));\n      newTag.setAttribute(\"Type\", \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\");\n      newTag.setAttribute(\"Target\", \"\".concat(this.mediaPrefix, \"/\").concat(realImageName));\n      relationships.appendChild(newTag);\n      return maxRid;\n    }\n  }]);\n}();", "\"use strict\";\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar templates = require(\"./templates\");\nvar DocUtils = require(\"docxtemplater\").DocUtils;\nvar DOMParser = require(\"@xmldom/xmldom\").DOMParser;\nfunction isNaN(number) {\n  return !(number === number);\n}\nvar ImgManager = require(\"./imgManager\");\nvar moduleName = \"open-xml-templating/docxtemplater-image-module\";\nfunction getInnerDocx(_ref) {\n  var part = _ref.part;\n  return part;\n}\nfunction getInnerPptx(_ref2) {\n  var part = _ref2.part,\n    left = _ref2.left,\n    right = _ref2.right,\n    postparsed = _ref2.postparsed;\n  var xmlString = postparsed.slice(left + 1, right).reduce(function (concat, item) {\n    return concat + item.value;\n  }, \"\");\n  var xmlDoc = new DOMParser().parseFromString(\"<xml>\" + xmlString + \"</xml>\");\n  part.offset = {\n    x: 0,\n    y: 0\n  };\n  part.ext = {\n    cx: 0,\n    cy: 0\n  };\n  var offset = xmlDoc.getElementsByTagName(\"a:off\");\n  var ext = xmlDoc.getElementsByTagName(\"a:ext\");\n  if (ext.length > 0) {\n    part.ext.cx = parseInt(ext[ext.length - 1].getAttribute(\"cx\"), 10);\n    part.ext.cy = parseInt(ext[ext.length - 1].getAttribute(\"cy\"), 10);\n  }\n  if (offset.length > 0) {\n    part.offset.x = parseInt(offset[offset.length - 1].getAttribute(\"x\"), 10);\n    part.offset.y = parseInt(offset[offset.length - 1].getAttribute(\"y\"), 10);\n  }\n  return part;\n}\nvar ImageModule = /*#__PURE__*/function () {\n  function ImageModule(options) {\n    _classCallCheck(this, ImageModule);\n    this.name = \"ImageModule\";\n    this.options = options || {};\n    this.imgManagers = {};\n    if (this.options.centered == null) {\n      this.options.centered = false;\n    }\n    if (this.options.getImage == null) {\n      throw new Error(\"You should pass getImage\");\n    }\n    if (this.options.getSize == null) {\n      throw new Error(\"You should pass getSize\");\n    }\n    this.imageNumber = 1;\n  }\n  return _createClass(ImageModule, [{\n    key: \"optionsTransformer\",\n    value: function optionsTransformer(options, docxtemplater) {\n      var relsFiles = docxtemplater.zip.file(/\\.xml\\.rels/).concat(docxtemplater.zip.file(/\\[Content_Types\\].xml/)).map(function (file) {\n        return file.name;\n      });\n      this.fileTypeConfig = docxtemplater.fileTypeConfig;\n      this.fileType = docxtemplater.fileType;\n      this.zip = docxtemplater.zip;\n      options.xmlFileNames = options.xmlFileNames.concat(relsFiles);\n      return options;\n    }\n  }, {\n    key: \"set\",\n    value: function set(options) {\n      if (options.zip) {\n        this.zip = options.zip;\n      }\n      if (options.xmlDocuments) {\n        this.xmlDocuments = options.xmlDocuments;\n      }\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(placeHolderContent) {\n      var module = moduleName;\n      var type = \"placeholder\";\n      if (this.options.setParser) {\n        return this.options.setParser(placeHolderContent);\n      }\n      if (placeHolderContent.substring(0, 2) === \"%%\") {\n        return {\n          type: type,\n          value: placeHolderContent.substr(2),\n          module: module,\n          centered: true\n        };\n      }\n      if (placeHolderContent.substring(0, 1) === \"%\") {\n        return {\n          type: type,\n          value: placeHolderContent.substr(1),\n          module: module,\n          centered: false\n        };\n      }\n      return null;\n    }\n  }, {\n    key: \"postparse\",\n    value: function postparse(parsed) {\n      var expandTo;\n      var getInner;\n      if (this.fileType === \"pptx\") {\n        expandTo = \"p:sp\";\n        getInner = getInnerPptx;\n      } else {\n        expandTo = this.options.centered ? \"w:p\" : \"w:t\";\n        getInner = getInnerDocx;\n      }\n      return DocUtils.traits.expandToOne(parsed, {\n        moduleName: moduleName,\n        getInner: getInner,\n        expandTo: expandTo\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render(part, options) {\n      if (!part.type === \"placeholder\" || part.module !== moduleName) {\n        return null;\n      }\n      var tagValue = options.scopeManager.getValue(part.value, {\n        part: part\n      });\n      if (!tagValue) {\n        return {\n          value: this.fileTypeConfig.tagTextXml\n        };\n      } else if (_typeof(tagValue) === \"object\") {\n        return this.getRenderedPart(part, tagValue.rId, tagValue.sizePixel);\n      }\n      var imgManager = new ImgManager(this.zip, options.filePath, this.xmlDocuments, this.fileType);\n      var imgBuffer = this.options.getImage(tagValue, part.value);\n      var rId = imgManager.addImageRels(this.getNextImageName(), imgBuffer);\n      var sizePixel = this.options.getSize(imgBuffer, tagValue, part.value);\n      return this.getRenderedPart(part, rId, sizePixel);\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(part, options) {\n      var _this = this;\n      var imgManager = new ImgManager(this.zip, options.filePath, this.xmlDocuments, this.fileType);\n      if (!part.type === \"placeholder\" || part.module !== moduleName) {\n        return null;\n      }\n      var value = options.scopeManager.getValue(part.value, {\n        part: part\n      });\n      if (!value) {\n        return {\n          value: this.fileTypeConfig.tagTextXml\n        };\n      }\n      return new Promise(function (resolve) {\n        var imgBuffer = _this.options.getImage(value, part.value);\n        resolve(imgBuffer);\n      }).then(function (imgBuffer) {\n        var rId = imgManager.addImageRels(_this.getNextImageName(), imgBuffer);\n        return new Promise(function (resolve) {\n          var sizePixel = _this.options.getSize(imgBuffer, value, part.value);\n          resolve(sizePixel);\n        }).then(function (sizePixel) {\n          return {\n            rId: rId,\n            sizePixel: sizePixel\n          };\n        });\n      });\n    }\n  }, {\n    key: \"getRenderedPart\",\n    value: function getRenderedPart(part, rId, sizePixel) {\n      if (isNaN(rId)) {\n        throw new Error(\"rId is NaN, aborting\");\n      }\n      var size = [DocUtils.convertPixelsToEmus(sizePixel[0]), DocUtils.convertPixelsToEmus(sizePixel[1])];\n      var centered = this.options.centered || part.centered;\n      var newText;\n      if (this.fileType === \"pptx\") {\n        newText = this.getRenderedPartPptx(part, rId, size, centered);\n      } else {\n        newText = this.getRenderedPartDocx(rId, size, centered);\n      }\n      return {\n        value: newText\n      };\n    }\n  }, {\n    key: \"getRenderedPartPptx\",\n    value: function getRenderedPartPptx(part, rId, size, centered) {\n      var offset = {\n        x: parseInt(part.offset.x, 10),\n        y: parseInt(part.offset.y, 10)\n      };\n      var cellCX = parseInt(part.ext.cx, 10) || 1;\n      var cellCY = parseInt(part.ext.cy, 10) || 1;\n      var imgW = parseInt(size[0], 10) || 1;\n      var imgH = parseInt(size[1], 10) || 1;\n      if (centered) {\n        offset.x = Math.round(offset.x + cellCX / 2 - imgW / 2);\n        offset.y = Math.round(offset.y + cellCY / 2 - imgH / 2);\n      }\n      return templates.getPptxImageXml(rId, [imgW, imgH], offset);\n    }\n  }, {\n    key: \"getRenderedPartDocx\",\n    value: function getRenderedPartDocx(rId, size, centered) {\n      return centered ? templates.getImageXmlCentered(rId, size) : templates.getImageXml(rId, size);\n    }\n  }, {\n    key: \"getNextImageName\",\n    value: function getNextImageName() {\n      var name = \"image_generated_\".concat(this.imageNumber, \".png\");\n      this.imageNumber++;\n      return name;\n    }\n  }]);\n}();\nmodule.exports = ImageModule;"],
  "mappings": "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",
  "names": ["o", "o", "ImageModule", "module", "resolve"]
}
